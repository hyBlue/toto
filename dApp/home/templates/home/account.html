{% extends 'base.html' %}
{% load static %}

{% block head_content %}
  <!-- Style for Datetime picker -->
  <link href='{% static "datetimepicker/css/bootstrap-datetimepicker.min.css"  %}' rel='stylesheet' type="text/css" media="screen">
{% endblock head_content %}

{% block body_content %}

  <!-- Header -->
  <div class="py-5 text-center h-100" style="background-image: url(&quot;http://www.hdwallpaperup.com/wp-content/uploads/2015/07/Soccer-Beautiful-High-Quality-Wallpaper-1440x900.jpg&quot;);">
    <div class="container py-5">


  <!-- Table -->
  <div class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <table class="table">
            <thead><h1>CREATE INFO</h1>
              <tr>
                <th>id</th>

                <th>SCT Amount</th>

              </tr>
            </thead>
            <tbody id="create_info">
            </tbody>
          </table>
        </div>


        <div class = "col-md-12">
          <table class="table">
            <thead><h1>BET INFO</h1>
              <tr>
                <th>id</th>
                <th>result</th>
                <th>ETH Amount</th>
                <th>SCT Amount</th>

              </tr>
            </thead>

            <tbody id="betting_info">
            </tbody>

          </table>
        </div>
      </div>
    </div>
  </div>

    <div class="container">
      <div class="row">
          <div class = "col-md-12">

          <table class="table">
            <thead><h1>VERIFY INFO</h1>
              <tr>
                <th>id</th>
                <th>result</th>
                <th>SCT Amount</th>


              </tr>
            </thead>

            <tbody id="verifying_info">
            </tbody>


          </table>
        </div>
      </div>

  </div>
      </div>
    </div>
  </div>




{% endblock body_content %}

{% block script_content %}

  <pingendo onclick="window.open('https://pingendo.com/', '_blank')" style="cursor:pointer;position: fixed;bottom: 10px;right:10px;padding:4px;background-color: #00b0eb;border-radius: 8px; width:180px;display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:14px;color:white">Made with Pingendo&nbsp;&nbsp;
  <img src="https://pingendo.com/site-assets/Pingendo_logo_big.png" class="d-block" alt="Pingendo logo" height="16">
  </pingendo>

  <!-- Datetime picker -->
  <script type="text/javascript" src='{% static "datetimepicker/jquery/jquery-1.8.3.min.js" %}' charset="UTF-8"></script>
  <script type="text/javascript" src='{% static "datetimepicker/bootstrap/js/bootstrap.min.js" %}'></script>
  <script type="text/javascript" src='{% static "datetimepicker/js/bootstrap-datetimepicker.js" %}' charset="UTF-8"></script>
  <script type="text/javascript" src='{% static "datetimepicker/js/locales/bootstrap-datetimepicker.es.js" %}' charset="UTF-8"></script>

  <script>
  // Script related to web3

  var games;
  function init(){

    Toto = web3.eth.contract(mainAbi);
    Game = web3.eth.contract(gameAbi);


    Toto.at(contractAddress, function(e, instance) {
      if(instance){
      toto = instance;

      web3.eth.getAccounts(function(e,r){
        if (r.length > 0){
          instance.accountInfo(r[0],
            function(e, r){

              for(var i = 0 ; i < r[0].length; i = i + 2){
                document.getElementById("create_info").innerHTML +=
                  `<tr>
                    <td>${r[0][i]}</td>
                      <td>${r[0][i+1]}</td>

                  </tr>`;
              }

              for(var i = 0 ; i < r[1].length; i = i + 4){
                document.getElementById("betting_info").innerHTML +=
                  `<tr>
                    <td>${r[1][i]}</td>
                      <td>${r[1][i+1]}</td>
                      <td>${r[1][i+2]}</td>
                        <td>${r[1][i+3]}</td>
                  </tr>`;
              }
              for(var i = 0 ; i < r[2].length; i = i + 3){
                document.getElementById("verifying_info").innerHTML +=
                  `<tr>
                    <td>${r[2][i]}</td>
                      <td>${r[2][i+1]}</td>
                      <td>${r[2][i+2]}</td>

                  </tr>`;
              }
            })
        }})


      }



  })
}
  </script>




{% endblock script_content %}

{% block style_content %}
<style>
  label {
    border-radius:.25em; font-weight:700; font-size:75%;padding-top: 0.2em;
    padding-right: 0.6em;
    padding-bottom: 0.3em;
    padding-left: 0.6em;
  }
</style>
{% endblock style_content %}
